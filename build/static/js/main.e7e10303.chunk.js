(this["webpackJsonptex-color-pdf-parser"]=this["webpackJsonptex-color-pdf-parser"]||[]).push([[0],{11:function(e,t,n){e.exports=n(18)},16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(5),s=n.n(c),o=(n(16),n(1)),i=n.n(o),l=n(9),u=n(3),p=n(6),m=n(7),f=n(2),d=n(10),h=n(8),v=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={supplier:null,products:[]},e.myFunc=function(){var t=Object(u.a)(i.a.mark((function t(n){var r,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n.target.files,(a=new FileReader).readAsDataURL(r[0]),a.onload=function(t){var n=window["pdfjs-dist/build/pdf"];n.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/2.5.207/pdf.worker.min.js",n.getDocument(t.target.result).promise.then((function(t){Object(u.a)(i.a.mark((function n(){var r,a,c,s,o;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=[],a=[],c=i.a.mark((function e(n){var c,s,o,u,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p=function(e){return+e.replace(",",".").replace(" ","")},u=function(e){e.items.forEach((function(t,n){if("\u041f\u041e\u0414"===t.str||"\u0411\u0422\u041f"===t.str){var r=e.items[n-3].str;e.items[n-3].str.length<3&&(r=e.items[n-4].str),a.push({id:r,name:void 0,amount:e.items[n+3].str,weight:p(e.items[n+5].str),priceInclVAT:p(e.items[n+11].str)})}}))},o=function(e){var t,n,r=[""],a=Object(l.a)(e.items);try{for(a.s();!(n=a.n()).done;){var c=n.value;t!=c.transform[5]&&t?r.push(c.str):r[r.length-1]+=c.str,t=c.transform[5]}}catch(s){a.e(s)}finally{a.f()}return r},e.next=5,t.getPage(n);case 5:return c=e.sent,e.next=8,c.getTextContent();case 8:s=e.sent,u(s),r=r.concat(o(s));case 11:case"end":return e.stop()}}),e)})),s=1;case 3:if(!(s<=t._pdfInfo.numPages)){n.next=8;break}return n.delegateYield(c(s),"t0",5);case 5:s++,n.next=3;break;case 8:o=r[r.findIndex((function(e){return"\u041f\u043b\u0430\u0442\u0435\u043b\u044c\u0449\u0438\u043a"===e}))+1],a=a.map((function(e){var t=r.findIndex((function(t){return t===e.id}));return e.name=r[t-2]+r[t-1],e})),e.setState({supplier:o,products:a});case 11:case"end":return n.stop()}}),n)})))(Object(f.a)(e))}),(function(e){console.error(e)}))};case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(m.a)(n,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"App"},a.a.createElement("div",{className:"appSlitBlock"},a.a.createElement("div",{className:"chooseFile"},a.a.createElement("h2",null,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043b \u0434\u043b\u044f \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0430:"),a.a.createElement("input",{type:"file",id:"input",onChange:function(t){return e.myFunc(t)},multiple:!0}))),a.a.createElement("div",{className:"appSlitBlock"},a.a.createElement("div",{className:"parseResult"},a.a.createElement("p",null,"\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a:"),a.a.createElement("p",null,a.a.createElement("code",null,this.state.supplier||"...")),a.a.createElement("p",null,"\u0422\u043e\u0432\u0430\u0440\u044b:"),a.a.createElement("p",null,a.a.createElement("code",null,JSON.stringify(this.state.products))))))}}]),n}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(v,{url:"src\\compressed.tracemonkey-pldi-09.pdf"})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[11,1,2]]]);
//# sourceMappingURL=main.e7e10303.chunk.js.map